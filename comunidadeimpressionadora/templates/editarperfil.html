{% extends 'perfil.html' %}

{% block form_editar_perfil %}

    <hr>
    <form method="POST" action="" class="border p-4 mt-2" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <legend>Editar Perfil</legend>
        <fieldset>
          <div class="form-floating mb-3">
            {% if form.username.errors %}
              {{ form.username(class="form-control is-invalid", id="Username", placeholder="Username") }}
            <div class="invalid-feedback">
              {% for erro in form.username.errors %}
                {{ erro }}
              {% endfor %}
            </div>
            {% else %}
              {{ form.username(class="form-control", id="Username", placeholder="Username") }}
            {% endif %}

            {{ form.username.label(for="Username") }}
          </div>
          <div class="form-floating mb-3">
            {% if form.email.errors %}
              {{ form.email(class="form-control is-invalid", id="Email", placeholder="name@example.com") }}
            <div class="invalid-feedback">
              {% for erro in form.email.errors %}
                {{ erro }}
              {% endfor %}
            </div>
            {% else %}
              {{ form.email(class="form-control", id="Email", placeholder="name@example.com") }}
            {% endif %}

            {{ form.email.label(for="Email") }}
          </div>
          <div>
              {{ form.foto_perfil.label }}<br>
              {{ form.foto_perfil(class='form-control-file my-2') }}
              {% if form.foto_perfil.errors %}
                {% for erro in form.foto_perfil.errors %}
                    <span class="text-danger">{{ erro }}</span><br>
                {% endfor %}
              {% endif %}
          </div>
          <hr>
          <p>Cursos</p>
            {% for campo in form %}
                {% if 'curso_' in campo.name %}
                    <div class="form-check mb-3">
                        {{ campo(class="form-check-input", id=campo.name) }}
                        {{ campo.label(class="form-check-label", for=campo.name) }}
                    </div>

                {% endif %}
            {% endfor %}
        </fieldset>
        {{ form.botao_submit_editarperfil(class="btn btn-primary my-3") }}
    </form>

{% endblock %}